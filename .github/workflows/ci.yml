name : Bookify CI


on:
  push:
    branches:
    - release

jobs:
  releaseApp:

    runs-on : ubuntu-latest
    steps:

    -uses : actions/checkout@v3
    -uses : actions/checkout@v2

    with:
      java-version : 12.x
    
    -uses: subosito/flutter-action@v2
    with:
      channel : 'stable'
      flutter-version : '3.13.0'
    
    -name: Get dependencies for flutter project
     run : flutter pub get

    -run : flutter analyze .

    -name: Build APK for release 
     run : flutter build apk --release


    -uses: actions/upload-artifact@v3
     with:
      name: release-apk
      build: build/app/outputs/apk/release/app-release.apk
